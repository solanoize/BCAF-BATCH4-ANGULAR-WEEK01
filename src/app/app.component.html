<!-- <div class="container mt-5">
  <div class="row">
    <div class="col-md-4">
      <app-todo></app-todo>
    </div>
    <div class="col-md-4">
      <app-todo [title]="'Trash'" [forTrash]="true"></app-todo>
    </div>
  </div>
</div> -->

<!-- <div class="container mt-5 mb-5">
  <div class="row">
    <div class="col-md-4">
      <app-customer-choice></app-customer-choice>
    </div>
    <div class="col-md-8">
      <app-reservasi-create></app-reservasi-create>
    </div>  
  </div>
</div> -->
<app-card>
  <div class="card-body">
    <form [formGroup]="form" (submit)="onSubmit()" novalidate>
      <div class="form-group mb-3">
        <label>Nama</label>
        <input
          type="text"
          name="name"
          formControlName="name"
          class="form-control"
        />

        <app-message-validation
          [field]="form.get('name')"
          [label]="'name'"
        ></app-message-validation>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th>Skill</th>
            <th>Experience</th>
            <th>#</th>
          </tr>
        </thead>
        <tbody formArrayName="skills">
          <tr *ngFor="let skill of getSkills().controls; let i = index">
            <td [formGroupName]="i">
              <input type="text" formControlName="skill" class="form-control" />
              <app-message-validation
                [field]="getSkill(i).get('skill')"
                [label]="'skill'"
              ></app-message-validation>
            </td>
            <td [formGroupName]="i">
              <input type="number" formControlName="exp" class="form-control" />
              <app-message-validation
                [field]="getSkill(i).get('exp')"
                [label]="'exp'"
              ></app-message-validation>
            </td>
            <td>
              <button class="btn btn-danger" (click)="removeSkill(i)">
                Remove
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <button class="btn btn-primary" (click)="addSkill()">Add Skill</button>

      <button *ngIf="form.valid" type="submit" class="btn btn-primary mt-3">
        Submit
      </button>
      <button *ngIf="form.invalid" type="button" class="btn btn-danger mt-3">
        Submit
      </button>
    </form>
  </div>
</app-card>

{{ form.value | json }}
